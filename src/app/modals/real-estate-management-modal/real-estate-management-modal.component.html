<div class="modal d-block">
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content" id="modal-content-id">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Real Estate</h1>
        <button type="button" class="shadow-none btn-close" (click)="closeModal(null)"></button>
      </div>

      <div class="modal-body">
        <form [formGroup]="form" class="row g-3 d-flex flex-column">
          <div class="col-md-4 w-100">
            <label for="title" class="form-label fw-bold">Title</label>
            <input type="text" class="form-control" formControlName="title">
            <app-error-message class="error-message" [control]="form.controls.title"></app-error-message>
          </div>

          <div class="col-md-4 w-100">
            <label for="address" class="form-label fw-bold">Address</label>
            <input type="text" class="form-control" id="address" formControlName="address">
            <app-error-message class="error-message" [control]="form.controls.address"></app-error-message>
          </div>

          <div class="col-md-4 w-100">
            <label for="zipCode" class="form-label fw-bold">Zip Code</label>
            <input type="text" class="form-control" formControlName="zipCode" minlength="8" maxlength="8"
              required="">
            <app-error-message class="error-message" [control]="form.controls.zipCode"></app-error-message>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label fw-bold">Description</label>
            <textarea class="form-control" style="resize:none" rows="3" formControlName="description"
              required> </textarea>
            <app-error-message class="error-message" [control]="form.controls.description"></app-error-message>
          </div>

          <div class="col-md-4 w-100">
            <label for="buildDate" class="form-label fw-bold">Build Date</label>
            <input type="number" class="form-control" formControlName="buildDate" required>
            <app-error-message class="error-message" [control]="form.controls.buildDate"></app-error-message>
          </div>

          <div class="col-md-4 w-100">
            <label for="squareMeters" class="form-label fw-bold">Square Meters</label>
            <input type="number" class="form-control" formControlName="squareMeter" required>
            <app-error-message class="error-message" [control]="form.controls.squareMeter"></app-error-message>
          </div>

          <label for="energyClass" class="fw-bold">Energy Class</label>
          <div class="col-md-4 w-100">
            <select class="form-select" aria-label="Energy Class Select" formControlName="energyClass">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
            </select>
            <app-error-message class="error-message" [control]="form.controls.energyClass"></app-error-message>
          </div>

          <label for="customer" class="fw-bold">Customer</label>
          <div class="col-md-4 w-100">
            <select class="form-select" aria-label="Customer Select" formControlName="customer" *ngIf="customers?.length!!==0">
              <option value="{{customer.id}}"  *ngFor="let customer of customers">{{customer.name}}</option>
            </select>
            <app-error-message class="error-message" [control]="form.controls.customer"></app-error-message>
            <p *ngIf="customers?.length===0">No customers available.</p>
          </div>

          <label for="realEstateType" class="fw-bold">Real Estate Type</label>
          <div class="col-md-4 w-100">
            <select class="form-select" aria-label="RealEstatetype Select" formControlName="realEstateTypeId" *ngIf="realEstateTypes?.length!==0">
              <option value="{{realEstateType.id}}" *ngFor="let realEstateType of realEstateTypes">{{realEstateType.description}}</option>
            </select>
            <app-error-message class="error-message" [control]="form.controls.realEstateTypeId"></app-error-message>
          </div>
          <p *ngIf="realEstateTypes?.length===0">No Real Estate Types available.</p>

          <label for="city" class="fw-bold">City</label>
          <div class="col-md-4 w-100">
            <select class="form-select" aria-label="City select" formControlName="cityId" *ngIf="cities?.length!==0">
              <option value="{{city.id}}" *ngFor="let city of cities">{{city.description}}</option>
            </select>
            <app-error-message class="error-message" [control]="form.controls.cityId"></app-error-message>
            <p *ngIf="cities?.length===0">No Cities available.</p>
          </div>

          <label for="typology" class="fw-bold">Typology</label>
          <div class="col-md-4 w-100">
            <select class="form-select" aria-label="Typology select" formControlName="typologyId" *ngIf="typologies?.length!==0">
              <option value="{{typology.id}}" *ngFor="let typology of typologies">{{typology.description}}</option>
            </select>
            <app-error-message class="error-message" [control]="form.controls.typologyId"></app-error-message>
            <p *ngIf="typologies?.length===0">No typologies available</p>
          </div>

          <div>
            <label for="Amenities" class="fw-bold">Amenities</label>
            <div *ngFor="let amenity of amenities">
              <div class="form-check col-md-4 w-100" *ngIf="amenities?.length!==0">
                <input value="{{amenity.id}}" class="form-check-input" type="checkbox" formControlName="amenitiesId">
                <label class="form-check-label" >{{amenity.description}}</label>
              </div>
              <p *ngIf="amenities?.length===0">No amenities available</p>
            </div>
          </div>

          <div class="col-md-4 w-100">
            <label for="price" class="form-label fw-bold">Price</label>
            <input type="number" class="form-control" formControlName="price">
            <app-error-message class="error-message" [control]="form.controls.price"></app-error-message>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal(null)">Cancel</button>
        <button type="button" class="btn btn-primary" [disabled]="form.invalid" (click)="addRealEstate()">Save changes</button>
      </div>
    </div>
  </div>
</div>